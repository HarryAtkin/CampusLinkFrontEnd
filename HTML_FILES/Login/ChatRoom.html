<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script>
        console.log(sessionStorage.getItem("chatRoomSelection"))

        function rest(ms) {
            new Promise(resolve => setTimeout(resolve, ms));
            window.location.reload()
        }

        async function PostChatroomName() {
            let HTTPData = {
                method: 'POST',
                body: sessionStorage.getItem("chatRoomSelection"),
                headers: new Headers({
                    'Content-Type': 'application/json; charset=UTF-8'
                })
            };

            let response1 = await fetch("http://localhost:8080/api/v1/chatRoom/Room", HTTPData)
        }

        async function GETComments(){

            response = await fetch("http://localhost:8080/api/v1/chatRoom/Room")
                .then(response => response.json())
            for(let i = 0; i < response.length; i++){
                console.log(response[i]);
            }
        }


        PostChatroomName();
        rest(50000000);
        GETComments();
        rest(2000);
        GETComments();

    </script>
</body>
</html>